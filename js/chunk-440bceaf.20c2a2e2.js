(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-440bceaf"],{"6dd9":function(t,e,s){"use strict";s("b3e2")},"760d":function(t,e,s){},"839c":function(t,e,s){},"8c63":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"TransViewMore"}},[e("div",{staticClass:"TransViewMore-header"},[e("div",{staticClass:"fBack"},[e("img",{staticStyle:{"margin-left":"20px",cursor:"pointer"},attrs:{src:s("a297")},on:{click:t.routerback}})]),e("div",{staticClass:"newHeader"},[e("span",[t._v(" "+t._s(t.selectItem.commodityCode)+" ")]),e("span",[t._v(" "+t._s(t.selectItem.symbol)+" ")]),e("span",[t._v(" 挂牌明细")]),e("span",{staticClass:"selects"},[t._v(" 大单筛选  ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pdnum,expression:"pdnum"}],staticClass:"select-i",attrs:{step:"0.01",placeholder:"请输入每笔挂牌量"},domProps:{value:t.pdnum},on:{input:[function(e){e.target.composing||(t.pdnum=e.target.value)},t.limitInput]}}),e("div",{staticClass:"searchBtn",on:{click:t.changeSelect}},[t._v("搜索")])])]),e("div",{staticClass:"TransViewMore-toptitle"},[t._l(5,(function(s){return e("ul",{key:"TransViewMore-toptitle--"+s,staticClass:"sm-title"},[e("li",{staticStyle:{"text-align":"left"}},[t._v("时间")]),e("li",{staticClass:"mid",staticStyle:{"text-align":"left"}},[t._v("价格")]),e("li",{staticClass:"rightli"},[t._v("数量   ")])])})),e("ul",{staticClass:"sm-title"})],2),e("div",{staticClass:"TransViewMore-outbox"},[e("div",{staticClass:"TransViewMore-box right-line"},[e("TransView",{attrs:{"list-data":t.transDatas0,"start-index":1,"current-index":t.currentIndex},on:{transViewClick:t.transViewClick}})],1),e("div",{staticClass:"TransViewMore-box right-line"},[e("TransView",{attrs:{"list-data":t.transDatas1,"start-index":41,"current-index":t.currentIndex},on:{transViewClick:t.transViewClick}})],1),e("div",{staticClass:"TransViewMore-box right-line"},[e("TransView",{attrs:{"list-data":t.transDatas2,"start-index":81,"current-index":t.currentIndex},on:{transViewClick:t.transViewClick}})],1),e("div",{staticClass:"TransViewMore-box right-line"},[e("TransView",{attrs:{"list-data":t.transDatas3,"start-index":121,"current-index":t.currentIndex},on:{transViewClick:t.transViewClick}})],1),e("div",{staticClass:"TransViewMore-box right-line"},[e("TransView",{attrs:{"list-data":t.transDatas4,"start-index":161,"current-index":t.currentIndex},on:{transViewClick:t.transViewClick}})],1),e("div",{staticClass:"TransViewMore-tab3 TransViewMore-box"},[e("div",{staticClass:"TransViewMore-tab3-box1",staticStyle:{height:"267px"}},[e("TopViewCC")],1),e("div",{staticClass:"line-box"}),e("div",{staticClass:"TransViewMore-tab3-box2",staticStyle:{height:"242px"}},[e("NewGoodsMsg",{staticStyle:{height:"242px"}})],1),e("div",{staticClass:"TransViewMore-tab3-box3",staticStyle:{height:"330px"}},[e("NoticeCC")],1)])])])])},a=[],r=(s("5384"),s("7736")),n=s("7c94"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box",staticStyle:{height:"100%"}},[e("div",{staticClass:"notice"},[t._m(0),e("div",{staticClass:"topone"},t._l(t.noticeList,(function(s,i){return e("p",{key:i,staticStyle:{display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:function(e){return t.goDetail(s.id)}}},[e("span",{staticClass:"word"},[t._v("[公告]"+t._s(s.title))]),e("span",{staticClass:"time"},[t._v(t._s(s.time))])])})),0),e("div",{staticClass:"pageWrap"},[e("el-pagination",{attrs:{"popper-class":"_popStyle","current-page":t.pageData.currentPage,"page-sizes":t.pageData.pageSizes,"page-size":t.pageData.pageSize,layout:"total, sizes, jumper",total:t.pageData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),e("descDialog",{ref:"descDialog"})],1)},o=[function(){var t=this,e=t._self._c;return e("h1",{staticClass:"title"},[e("div",{staticStyle:{cursor:"pointer","text-align":"center","font-weight":"600",color:"rgba(255, 255, 255, 0.8)"}},[e("span",[t._v(" 公告阅读")])])])}],c=s("10f1"),h={name:"NoticeCC",components:{descDialog:c["a"]},data(){return{pageData:{total:null,pageSizes:[5,10,20],pageSize:5,currentPage:1},items:[],oneItmes:{},content:"",isNotice:!0,abstract:[],noticeList:[]}},computed:{...Object(r["b"])(["commodityStrategyGetter"]),item(){const t=this.$store.state.hqData.item.symbolId;return t?this.$store.state.hqData.item.symbolId:this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0].symbolId:"--"}},mounted(){this.init()},beforeDestroy(){protocol.param_noticeList.param.articleTitle=""},methods:{goDetail(t){this.$refs.descDialog.showDialog(t)},init(){this.getArticle()},getArticle(){this.noticeList=[],protocol.param_noticeList.param.page=this.pageData.currentPage-1,protocol.param_noticeList.param.size=this.pageData.pageSize,http.getRes(protocol.param_noticeList).then(t=>{const{content:e,totalElements:s}=t.data.value;if(this.pageData.total=Number(s),e)for(const i of e){const t=i;t.time=util.dateDayFormate(Number(i.createTime)),this.noticeList.push(t)}})},handleSizeChange(t){this.pageData.pageSize=t,this.getArticle()},handleCurrentChange(t){this.pageData.currentPage=t,this.getArticle()},goNotice(){window.sessionStorage.setItem("selectnPage",2),this.$router.push("/notice")},goWhitePage(){window.sessionStorage.setItem("selectnPage",1),this.$router.push("/notice")}}},u=h,m=(s("fde9"),s("829d")),d=Object(m["a"])(u,l,o,!1,null,"73671e36",null),p=d.exports,g=s("6220"),D=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"content"},[e("div",{staticClass:"allData"},t._l(t.listData,(function(s,i){return e("ul",{key:"trans_"+(i+t.startIndex),class:{selected:i+t.startIndex===t.currentIndex},on:{click:function(e){return t.transViewClick(i)}}},[e("li",{staticStyle:{"text-align":"left"}},[t._v(t._s(s.dates))]),e("li",{staticClass:"mid",class:Number(s.prices)>Number(t.selectItem.clearPrice)?"sellDirection":Number(s.prices)<Number(t.selectItem.clearPrice)?"buyDirection":"",staticStyle:{"text-align":"left"}},[t._v(" "+t._s(Number(s.prices).toFixed(t.selectItem.coinDigitalNum))+" ")]),e("li",{staticClass:"rightli",class:t.setStrClass(s.upDown,"买入","sellDirection","buyDirection")},[t._v(" "+t._s(Number(s.volumn).toFixed(t.selectItem.quantityNum))+" "+t._s("买入"===s.upDown?"↑":"↓")+" ")])])})),0)])])},y=[],b={props:{listData:{type:Array,required:!1,default:()=>[]},startIndex:{type:Number,required:!1,default:1},currentIndex:{type:Number,required:!1,default:0}},computed:{...Object(r["b"])(["item","marketDetails","commodityStrategyGetter"]),data(){const t=this.$store.state.hqData.item.symbolId;return t||(this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0].symbolId:"--")},selectItem(){const t=this.$store.state.hqData.item.symbol;if(!t)return this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0]:{close:0,quotechangeColor:"white",quotechange:0,high:0,low:0,amount:0,symbolId:"--",clearPrice:0,numStr:/^(\d+)\.(\d{0,2}).*$/,coinDigitalNum:2,quantityNum:2};for(let e=0;e<this.$store.state.hqData.marketDetails.length;e++){const t=this.$store.state.hqData.marketDetails[e];if(this.$store.state.hqData.item.symbolId==t.symbolId)return t}return{}},ceshiXh:function(){const t=this.item.symbolId;return t||(this.$store.state.hqData.marketDetails.length>0?this.marketDetails[0].symbolId:"--")},unit(){const t=this.$store.state.hqData.item.symbol;if(t){const e=t.split("/"),s=e[1];return s}return this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0].symbol.split("/")[1]:"--"},units(){const t=this.$store.state.hqData.item.symbol;if(t){const e=t.split("/"),s=e[0];return s}return this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0].symbol.split("/")[0]:"--"}},watch:{},created(){},methods:{transViewClick(t){this.$emit("transViewClick",t+this.startIndex)}}},x=b,f=(s("6dd9"),Object(m["a"])(x,D,y,!1,null,"0988b02e",null)),w=f.exports,I={name:"TransViewMore",components:{TopViewCC:n["a"],NoticeCC:p,NewGoodsMsg:g["a"],TransView:w},data(){return{currentName:"pk",selfItem:null,symbol:"--",commodityCode:"--",pdnum:"",param_realtime_200:{},param_realtime:{},items:[],currentIndex:null,auxiliaryValue:0,timer:null,isHis:!1,loadHis:!1}},computed:{...Object(r["b"])(["item","marketDetails","pricedetail","commodityStrategyGetter","sessionInfoGetter"]),transDatas(){const t=[[],[],[],[],[]];return this.items&&0!==this.items.length?(this.items.length<41?t[0]=this.items:this.items.length<81?(t[0]=this.items.slice(0,40),t[1]=this.items.slice(40,this.items.length)):this.items.length<121?(t[0]=this.items.slice(0,40),t[1]=this.items.slice(40,80),t[2]=this.items.slice(80,this.items.length)):this.items.length<161?(t[0]=this.items.slice(0,40),t[1]=this.items.slice(40,80),t[2]=this.items.slice(80,120),t[3]=this.items.slice(120,this.items.length)):this.items.length<201?(t[0]=this.items.slice(0,40),t[1]=this.items.slice(40,80),t[2]=this.items.slice(80,120),t[3]=this.items.slice(120,160),t[4]=this.items.slice(160,this.items.length)):(t[0]=this.items.slice(this.auxiliaryValue,40+this.auxiliaryValue),t[1]=this.items.slice(40+this.auxiliaryValue,80+this.auxiliaryValue),t[2]=this.items.slice(80+this.auxiliaryValue,120+this.auxiliaryValue),t[3]=this.items.slice(120+this.auxiliaryValue,160+this.auxiliaryValue),t[4]=this.items.slice(160+this.auxiliaryValue,200+this.auxiliaryValue)),t):t},transDatas0(){return this.transDatas[0]},transDatas1(){return this.transDatas[1]},transDatas2(){return this.transDatas[2]},transDatas3(){return this.transDatas[3]},transDatas4(){return this.transDatas[4]},isLogin(){return!!(this.sessionInfoGetter&&this.sessionInfoGetter["sessionStr"]&&this.sessionInfoGetter["userId"])},selectItem(){const t=this.$store.state.hqData.item.symbol;if(!t)return this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0]:{close:0,quotechangeColor:"white",quotechange:0,high:0,low:0,amount:0,symbolId:"--",clearPrice:0};for(let e=0;e<this.$store.state.hqData.marketDetails.length;e++){const t=this.$store.state.hqData.marketDetails[e];if(this.$store.state.hqData.item.symbolId==t.symbolId)return t}return""},data(){const t=this.$store.state.hqData.item.symbolId;return t||(this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0].symbolId:"--")},ceshiXh:function(){const t=this.item.symbolId;return t||(this.$store.state.hqData.marketDetails.length>0?this.marketDetails[0].symbolId:"--")},unit(){const t=this.$store.state.hqData.item.symbol;if(t){const e=t.split("/"),s=e[1];return s}return this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0].symbol.split("/")[1]:"--"},units(){const t=this.$store.state.hqData.item.symbol;if(t){const e=t.split("/"),s=e[0];return s}return this.$store.state.hqData.marketDetails.length>0?this.$store.state.hqData.marketDetails[0].symbol.split("/")[0]:"--"}},watch:{ceshiXh(t,e){this.realtimeTrade(this.ceshiXh)},pricedetail(t,e){this.showOrderData()},pdnum(t){t||(hqProtocol.param_unsubscribereq.contractIds=[this.selectItem.symbolId],hqWs.send(hqProtocol.param_unsubscribereq))},items(t,e){0===e.length&&(this.auxiliaryValue=t.length-200),e.length&&this.auxiliaryValue===e.length-200&&(this.auxiliaryValue=t.length-200),e.length&&e[0].occurTime!=t[0].occurTime&&this.loadHis&&(this.auxiliaryValue=this.auxiliaryValue+(t.length-e.length)),e.length&&e[0].occurTime!=t[0].occurTime&&!this.loadHis&&(this.auxiliaryValue=t.length-200)}},created(){const t=this.ceshiXh;this.realtimeTrade(t),this.showOrderData(),this.param_realtime_200={fid:"pricedetail-req",singleQuantity:"",marketId:111,contractId:hqProtocol.param_realtime.contractId,bCtrl:1,positionIndex:-500,count:500},this.param_realtime={fid:"pricedetail-req",singleQuantity:"",marketId:111,contractId:hqProtocol.param_realtime.contractId,bCtrl:1,positionIndex:-500,count:500},this.param_subscribe_200=JSON.parse(JSON.stringify(hqProtocol.param_subscribe)),hqWs.send(this.param_realtime)},mounted(){window.addEventListener("wheel",this.handleScroll,!0)||window.addEventListener("DOMMouseScroll",this.handleScroll,!1);const t=this;document.onkeydown=function(e){const s=e||event,i=s.keyCode||s.which||s.charCode;38===i&&t.handleScroll({deltaY:-1}),40===i&&t.handleScroll({deltaY:1})},document.onkeyup=function(t){}},beforeDestroy(){hqWs.send(hqProtocol.param_realtime),hqWs.send(hqProtocol.param_subscribe),hqProtocol.param_unsubscribereq.contractIds=[this.selectItem.symbolId],hqWs.send(hqProtocol.param_unsubscribereq)},methods:{transViewClick(t){this.currentIndex===t?this.currentIndex=null:this.currentIndex=t},handleScroll(t){if(null===this.currentIndex)return;const e=t.deltaY>0?"down":"up";if(this.currentIndex<=1?("down"==e?this.currentIndex++:this.currentIndex=1,"up"==e&&this.items.length>200&&(this.auxiliaryValue<=0?this.auxiliaryValue=0:this.auxiliaryValue--)):this.currentIndex>=200?("down"==e?this.currentIndex=200:this.currentIndex--,"down"==e&&this.items.length>200&&(this.auxiliaryValue>=this.items.length-200?this.auxiliaryValue=this.items.length-200:this.auxiliaryValue++)):"down"==e?this.currentIndex++:this.currentIndex--,this.currentIndex<=1&&0==this.auxiliaryValue&&"up"==e)if(this.timer&&clearTimeout(this.timer),this.isHis)this.timer=setTimeout(()=>{this.isHis=!1},500);else{const t=JSON.parse(JSON.stringify(this.param_realtime));t.itemNum=this.items[0].itemNum,hqWs.send(t),this.loadHis=!0}},routerback(){this.isLogin?this.$router.push("/transCCCopy"):this.$router.push("/transCCCopyNosession")},changeSelect(){if(""!==this.pdnum){var t=/^[0-9]+.?[0-9]*/;!t.test(this.pdnum)||!Number(this.pdnum)>0?this.$message("输入类型错误"):(this.param_realtime_200.singleQuantity=this.pdnum,hqWs.send(this.param_realtime_200),hqProtocol.param_big_top.singleQuantity=this.pdnum,hqProtocol.param_big_top.symbol=this.selectItem.symbolId,hqWs.send(hqProtocol.param_big_top))}else hqWs.send(this.param_realtime)},limitInput(){const t=this.pdnum;this.$refs.prices.value&&(this.$refs.prices.value.length>=2?(this.$refs.prices.value=this.$refs.prices.value.replace(t,"$1.$2"),this.price=this.$refs.prices.value):(this.$refs.prices.value=this.$refs.prices.value.replace(/[^0-9]/g,""),this.price=this.$refs.prices.value))},realtimeTrade:function(t){this.param_realtime.contractId=t,hqWs.send(this.param_realtime)},DateFormate:function(t){const e=new Date(t);var s=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),r=e.getHours(),n=e.getMinutes(),l=e.getSeconds();return[s,i,a,r,n,l]=[s,i,a,r,n,l].map(t=>t<10?"0"+t:t),`${r}:${n}:${l}`},showOrderData:function(){let t=[];if(this.pricedetail){t=this.pricedetail,this.items=JSON.parse(JSON.stringify(t));for(const e in t){const s=t[e].occurTime,i=parseInt(s);this.items[e].dates=this.$options.methods.DateFormate(i),"0"==t[e].ioFlag?this.items[e].upDown="买入":"1"==t[e].ioFlag&&(this.items[e].upDown="卖出"),this.items[e].prices=t[e].price,this.items[e].volumn=t[e].volume}this.items.reverse()}}}},C=I,q=(s("f02c"),Object(m["a"])(C,i,a,!1,null,"0d29f440",null));e["default"]=q.exports},a297:function(t,e,s){t.exports=s.p+"img/34.2abc74b0.svg"},b3e2:function(t,e,s){},f02c:function(t,e,s){"use strict";s("839c")},fde9:function(t,e,s){"use strict";s("760d")}}]);
//# sourceMappingURL=chunk-440bceaf.20c2a2e2.js.map