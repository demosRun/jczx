(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1829546c"],{3058:function(t,e,a){"use strict";a("c655")},"99c5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"NoticeList"}},[e("div",{staticClass:"assets-comment-all"},[e("div",[e("div",{staticClass:"cardContent"},t._l(t.list,(function(a,i){return e("div",{key:i,on:{click:function(e){return t.goNoticeDetail(a.id)}}},[e("el-row",[e("el-col",{attrs:{span:1}},[e("span",{staticStyle:{display:"inline-block",width:"100%"}},[a.sign?e("i",{staticClass:"el-icon-star-off"}):t._e()])]),e("el-col",{staticClass:"notice_content",attrs:{span:14}},[a.newnotice?e("span",{staticClass:"newnotice"},[t._v("new")]):t._e(),t._v(t._s(a.title))]),e("el-col",{staticClass:"alignRight",attrs:{span:9}},[t._v(t._s(a.time))])],1)],1)})),0),1===t.selectPage?e("el-row",[e("el-col",{attrs:{span:24}},[e("el-pagination",{attrs:{"popper-class":"_popStyle","current-page":t.pageData.currentPage,"page-sizes":t.pageData.pageSizes,"page-size":t.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1):e("el-row",[e("el-col",{attrs:{span:24}},[e("el-pagination",{attrs:{"popper-class":"_popStyle","current-page":t.pageData1.currentPage,"page-sizes":t.pageData1.pageSizes,"page-size":t.pageData1.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageData1.total},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)],1)],1)])])},s=[],n=(a("5384"),{name:"NoticeList",data(){return{list:[],pageData:{total:null,pageSizes:[5,10,20],pageSize:10,currentPage:1},pageData1:{total:null,pageSizes:[5,10,20],pageSize:10,currentPage:1},selectPage:1,inputSearch:""}},mounted(){this.selectPage=1,this.getArticle()},methods:{goNoticeDetail(t){const e=JSON.parse(localStorage.getItem("tq_new_notice"));e&&e.indexOf(t)>-1&&e.splice(e.indexOf(t),1),localStorage.setItem("tq_new_notice",JSON.stringify(e)),window.sessionStorage.setItem("selectnPage",this.selectPage),this.$router.push({name:"noticedetail",params:{articleId:t}})},DateFormate:function(t){const e=new Date(t);var a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return[a,i,s,n,r,o]=[a,i,s,n,r,o].map(t=>t<10?"0"+t:t),`${a}-${i}-${s} ${n}:${r}:${o}`},getArticle(){this.list=[];const t=this;protocol.param_noticeList.param.page=this.pageData.currentPage-1,protocol.param_noticeList.param.size=this.pageData.pageSize,http.getRes(protocol.param_noticeList).then(e=>{const{content:a,totalElements:i}=e.data.value;if(t.pageData.total=Number(i),a){const t=JSON.parse(localStorage.getItem("tq_new_notice"));for(const e of a){const a=e;a.time=this.$options.methods.DateFormate(Number(e.createTime)),a.newnotice=!1;for(const e in t)if(t.hasOwnProperty(e)){const i=t[e];i==a.id&&(a.newnotice=!0)}this.list.push(a)}}})},getArticleProject(){this.list=[];const t=this;localStorage.lang||navigator.language.slice(-2).toLowerCase();protocol.param_getArticle.param.classifyId=4,protocol.param_getArticle.param.articleId="",protocol.param_getArticle.param.articleTitle=this.inputSearch,protocol.param_getArticle.param.page=this.pageData1.currentPage,protocol.param_getArticle.param.limit=this.pageData1.pageSize,http.postFront(protocol.param_getArticle).then(e=>{const{code:a,total:i,item:s}=e.data.value;if(t.pageData1.total=Number(i),"0"==a)for(const t of s){const e={};e.id=t.articleId,e.sign="1"==t.top,e.title=t.articleTitle,e.time=this.$options.methods.DateFormate(Number(t.publishTime)),e.content=t.articleContent,this.list.push(e)}})},searchNotice(){1==this.selectPage?(this.pageData.currentPage=1,this.getArticle()):(this.pageData1.currentPage=1,this.getArticleProject())},handleSizeChange(t){this.pageData.pageSize=t,this.getArticle()},handleCurrentChange(t){this.pageData.currentPage=t,this.getArticle()},handleSizeChange1(t){this.pageData1.pageSize=t,this.getArticleProject()},handleCurrentChange1(t){this.pageData1.currentPage=t,this.getArticleProject()}}}),r=n,o=(a("3058"),a("829d")),c=Object(o["a"])(r,i,s,!1,null,"20c1933a",null);e["default"]=c.exports},c655:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1829546c.67230200.js.map